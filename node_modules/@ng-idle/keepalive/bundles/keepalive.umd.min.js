!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@ng-idle/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common/http","@ng-idle/core"],t):t((e.ngidle=e.ngidle||{},e.ngidle.keepalive=e.ngidle.keepalive||{}),e.ng.core,e.ng.http,e.ng.core)}(this,function(e,t,n,o){"use strict";var i=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(e,t,n,o){var i,r=arguments.length,u=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;p>=0;p--)(i=e[p])&&(u=(r<3?i(u):r>3?i(t,n,u):i(t,n))||u);return r>3&&u&&Object.defineProperty(t,n,u),u},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function o(n,o){var i=e.call(this)||this;return i.http=n,i.zone=o,i.pingInterval=600,i.onPing=new t.EventEmitter,i.onPingResponse=new t.EventEmitter,i}return i(o,e),o.prototype.request=function(e){return"string"==typeof e?this.pingRequest=new n.HttpRequest("GET",e):e instanceof n.HttpRequest?this.pingRequest=e:null===e&&(this.pingRequest=null),this.pingRequest},o.prototype.interval=function(e){if(!isNaN(e)&&e>0)this.pingInterval=e;else if(!isNaN(e)&&e<=0)throw new Error("Interval value must be greater than zero.");return this.pingInterval},o.prototype.ping=function(){var e=this;this.onPing.emit(null),this.pingRequest&&this.http.request(this.pingRequest).subscribe(function(t){e.onPingResponse.emit(t)},function(t){e.onPingResponse.emit(t)})},o.prototype.start=function(){var e=this;this.stop(),this.zone.runOutsideAngular(function(){e.pingHandle=setInterval(function(){e.zone.run(function(){e.ping()})},1e3*e.pingInterval)})},o.prototype.stop=function(){this.hasPingHandle()&&(clearInterval(this.pingHandle),this.pingHandle=null)},o.prototype.ngOnDestroy=function(){this.stop()},o.prototype.isRunning=function(){return this.hasPingHandle()},o.prototype.hasPingHandle=function(){return null!==this.pingHandle&&void 0!==this.pingHandle},o=r([t.Injectable(),u("design:paramtypes",[n.HttpClient,t.NgZone])],o)}(o.KeepaliveSvc),l=function(e,t,n,o){var i,r=arguments.length,u=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;p>=0;p--)(i=e[p])&&(u=(r<3?i(u):r>3?i(t,n,u):i(t,n))||u);return r>3&&u&&Object.defineProperty(t,n,u),u},s=function(){function e(){}n=e,e.forRoot=function(){return{ngModule:n,providers:[p,{provide:o.KeepaliveSvc,useExisting:p}]}};var n;return e=n=l([t.NgModule({imports:[o.NgIdleModule.forRoot()]})],e)}();e.NgIdleKeepaliveModule=s,e.Keepalive=p,Object.defineProperty(e,"__esModule",{value:!0})});
